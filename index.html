<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>üå∏ Mom‚Äôs Inspiration üå∏ ‚Äì A Site for Growth & Healing</title>
  <meta name="title" content="Mom's Inspiration">
  <meta name="description"
    content="A site dedicated to a wonderful mother whose struggles and triumphs are admirable and uplifting.">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Favicon Info (optional) -->
  <link rel="apple-touch-icon" sizes="180x180" href="assets/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="assets/favicon/favicon-16x16.png">
  <link rel="icon" type="image/svg+xml" href="assets/favicon/favicon.svg">
  <link rel="manifest" href="assets/favicon/site.webmanifest">
  <link rel="shortcut icon" href="assets/favicon/favicon.ico">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="theme-color" content="#ffffff">
  <!-- Social Meta Tags -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://naefurgerson.me/">
  <meta property="og:title" content="Mom's Inspiration">
  <meta property="og:description"
    content="A site dedicated to a wonderful mother whose struggles and triumphs are admirable and uplifting.">
  <meta property="og:image" content="https://naefurgerson.me/assets/favicon/apple-touch-icon.png">
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="https://naefurgerson.me/">
  <meta property="twitter:title" content="Mom's Inspiration">
  <meta property="twitter:description"
    content="A site dedicated to a wonderful mother whose struggles and triumphs are admirable and uplifting.">
  <meta property="twitter:image" content="https://naefurgerson.me/assets/favicon/apple-touch-icon.png">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="stylesheet" href="styles.css">
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: Arial, sans-serif;
      background-color: #1a001a;
      color: #ffffff;
      padding: 2rem;
      font-size: 1.1rem;
    }

    h1 {
      text-align: center;
      margin-bottom: 1rem;
      font-weight: 300;
      color: #d966ff;
    }

    .filter-buttons {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      margin-bottom: 2rem;
      gap: 0.5rem;
    }

    .filter-buttons button {
      padding: 0.5rem 1rem;
      border: 2px solid #00ffff;
      background-color: #d966ff;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 1rem;
      color: #1a001a;
      border-radius: 4px;
    }

    .filter-buttons button:hover {
      background-color: #00ffff;
      color: #1a001a;
    }

    .hero-banner {
      text-align: center;
      background-color: #2e005e;
      color: #ffffff;
      padding: 2rem;
      margin-bottom: 2rem;
      border-radius: 8px;
      box-shadow: 0 4px 8px #00ffff;
    }

    .hero-banner h2 {
      margin-bottom: 1rem;
      color: #d966ff;
    }

    .hero-banner p {
      margin-bottom: 1.5rem;
    }

    .hero-banner button {
      background-color: #d966ff;
      color: #1a001a;
      padding: 0.75rem 1.5rem;
      border: 2px solid #00ffff;
      border-radius: 4px;
      cursor: pointer;
      font-size: 1rem;
      transition: background-color 0.3s ease, color 0.3s ease;
    }

    .hero-banner button:hover {
      background-color: #00ffff;
      color: #1a001a;
    }

    .gallery {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 1rem;
      max-width: 1200px;
      margin: 0 auto 2rem;
    }

    .gallery-item {
      position: relative;
      overflow: hidden;
      border: 2px solid #00ffff;
      aspect-ratio: 3/4;
      /* Maintains a ratio for images */
      display: none;
      box-shadow: 0 4px 8px #00ffff;
      background-color: #2e005e;
      border-radius: 8px;
    }

    .gallery-item img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
      border-radius: 6px;
    }

    .overlay {
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      background-color: rgba(0, 0, 0, 0.7);
      color: #ffffff;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 1rem;
      transition: opacity 0.3s ease;
      overflow: hidden;
      opacity: 1;
      font-size: 1rem;
    }

    .gallery-item:hover .overlay {
      opacity: 0;
    }

    /* ‚≠ê Preserve line breaks from YAML ‚≠ê */
    .overlay p {
      white-space: pre-wrap;
      line-height: 1.5;
    }

    .sticky-footer {
      background-color: #2e005e;
      color: #ffffff;
      padding: 1rem;
      text-align: center;
      margin-top: 2rem;
      border-radius: 8px;
      box-shadow: 0 4px 8px #00ffff;
    }

    .sticky-footer a {
      color: #00ffff;
      margin: 0 0.5rem;
      text-decoration: none;
      transition: text-decoration 0.3s ease;
    }

    .sticky-footer a:hover {
      text-decoration: underline;
    }

    .weather-banner {
      background: #2e005e;
      color: #00ffff;
      padding: 0.5rem;
      font-size: 1rem;
      text-align: center;
      margin-bottom: 1rem;
      border-radius: 4px;
      box-shadow: 0 2px 4px #00ffff;
    }
  </style>
</head>

<body>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/js-yaml/4.1.0/js-yaml.min.js"></script>

  <script>
    let poemsZoom = 1.0
    let quotesZoom = 1.0
    let prayersZoom = 1.0
    let ancesstoryZoom = 1.0

    // Weather Info
    fetch("https://wttr.in?format=j1")
      .then(r => r.json())
      .then(d => {
        let l = d.nearest_area[0].areaName[0].value
        let f = d.current_condition[0].temp_F
        let w = d.current_condition[0].weatherDesc[0].value
        document.getElementById("weather-marquee").textContent = l + " " + f + "¬∞F " + w
      })

    // Build the Gallery from YAML data
    fetch("data/gallery.yaml")
      .then(response => response.text())
      .then(yamlText => {
        const data = jsyaml.load(yamlText)
        buildGallery(data.gallery)
        filterGallery("all")
        initFilterButtons()
        autoResizeFonts()
      })
      .catch(err => {
        console.error("Error fetching or parsing YAML:", err)
      })

    function buildGallery(galleryData) {
      const galleryContainer = document.getElementById("dynamicGallery")
      galleryContainer.innerHTML = ""
      galleryData.forEach(item => {
        const galleryItem = document.createElement("div")
        galleryItem.className = "gallery-item"
        galleryItem.setAttribute("data-tags", item.category)
        galleryItem.innerHTML = `
        <img src="${item.image}" alt="${item.overlayTitle || 'Gallery Image'}" />
        <div class="overlay">
          <p>${item.overlayTitle ? `<strong>${item.overlayTitle}</strong><br><br>` : ""}${item.overlayContent}</p>
        </div>
        `.trim();

        galleryContainer.appendChild(galleryItem)
      })
    }

    function filterGallery(filter) {
      const items = document.querySelectorAll(".gallery-item")
      items.forEach(item => {
        const tags = item.getAttribute("data-tags").split(" ")
        if (filter === "all" || tags.includes(filter)) {
          item.style.display = "block"
        } else {
          item.style.display = "none"
        }
      })
    }

    function initFilterButtons() {
      const buttons = document.querySelectorAll(".filter-buttons button")
      buttons.forEach(btn => {
        btn.addEventListener("click", () => {
          const filterValue = btn.getAttribute("data-filter")
          filterGallery(filterValue)
        })
      })
    }

    function autoResizeFonts() {
      const items = document.querySelectorAll(".gallery-item .overlay");

      // 1Ô∏è‚É£ Decide if we‚Äôre in single-column mode 
      const isSingleColumn = window.innerWidth < 700;

      // 2Ô∏è‚É£ Set different max font sizes based on column count
      let maxFont = isSingleColumn ? 2.0 : 1;
      let minFont = 0.4;

      // 3Ô∏è‚É£ For each overlay text, do the math
      items.forEach((overlayText) => {
        const textLength = overlayText.textContent.trim().length;

        // 3.1 Clamp textLength
        const maxChars = 400;
        const clampedLen = Math.min(textLength, maxChars);

        // 3.2 Linear interpolation from maxFont ‚Üí minFont
        const ratio = clampedLen / maxChars;  // 0.0 ‚Üí 1.0
        let fontSize = maxFont - ((maxFont - minFont) * ratio);

        // 3.3 Snap fontSize to a 0.1 increment
        fontSize = Math.round(fontSize * 11) / 10;

        // 3.4 Category multipliers (poems, quotes, etc.)
        const parentItem = overlayText.closest(".gallery-item");
        const category = (parentItem.getAttribute("data-tags") || "").toLowerCase();

        if (category.includes("poems")) fontSize *= poemsZoom;
        if (category.includes("quotes")) fontSize *= quotesZoom;
        if (category.includes("prayers")) fontSize *= prayersZoom;
        if (category.includes("ancesstory")) fontSize *= ancesstoryZoom;

        // 3.5 Set the final style
        overlayText.style.fontSize = fontSize + "rem";
      });
    }
  </script>

  <div class="weather-banner">
    <marquee id="weather-marquee">Loading...</marquee>
  </div>

  <h1>ü¶ã Nae Furgeron's Tribute Page üåà</h1>

  <div class="filter-buttons">
    <button data-filter="all">üåç Show All</button>
    <button data-filter="poems">üìú Poems</button>
    <button data-filter="ancesstory">üå≥ Ancesstory</button>
    <button data-filter="quotes">üí¨ Quotes</button>
    <button data-filter="prayers">üôè Prayers</button>
  </div>

  <div class="hero-banner">
    <h2>üíï A Warm Tribute to My Mom üíï</h2>
    <p>
      This site is dedicated to a wonderful mother whose compassion, resilience,
      and unwavering love inspire us to keep growing and healing.
      Explore poems, ancesstory, quotes, and prayers to spark hope and courage.
    </p>
    <button onclick="alert('Thank you for honoring our beloved mom with your presence!')">üíñ Send Her Love üíñ</button>
  </div>

  <div class="gallery" id="dynamicGallery"></div>

  <div class="sticky-footer">
    <p>üîó Stay connected with our family:</p>
    <a href="https://twitter.com/yourprofile" target="_blank">üê¶ Twitter</a>
    <a href="https://facebook.com/yourprofile" target="_blank">üìò Facebook</a>
    <a href="https://instagram.com/yourprofile" target="_blank">üì∏ Instagram</a>
    <br><br>
    <p>üåü Keep spreading love, light, and healing! üåü</p>
  </div>
</body>

</html>